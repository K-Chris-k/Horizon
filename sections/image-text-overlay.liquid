

{%- style -%}
  .image-text-overlay_section-{{ section.id }} {
    position: relative;
    width: 100%;
    overflow: hidden;
    {% if section.settings.max_width_enable %}
      max-width: {{ section.settings.max_width }}px;
      margin: 0 auto;
    {% endif %}
  }

  .image-text-overlay_background-wrapper-{{ section.id }} {
    position: relative;
    width: 100%;
  }
  .image-text-overlay_background-image-{{ section.id }} {
    width: 100%;
    {% if section.settings.image_display_mode == 'cover' %}
      height: 100%;
      object-fit: cover;
      object-position: center;
      position: absolute;
      top: 0;
      left: 0;
    {% else %}
      height: auto;
    {% endif %}
    display: block;
  }

  .image-text-overlay_content-wrapper-{{ section.id }} {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    z-index: 1;
  }

  @media screen and (min-width: 750px) {
    {% if section.settings.image_display_mode == 'cover' %}
      .image-text-overlay_background-wrapper-{{ section.id }} {
        height: {{ section.settings.desktop_section_height }}px;
      }
    {% endif %}

    .image-text-overlay_content-wrapper-{{ section.id }} {
      {% if section.settings.desktop_content_alignment == 'left' %}
        justify-content: flex-start;
        padding-left: {{ section.settings.desktop_padding_horizontal }}px;
      {% elsif section.settings.desktop_content_alignment == 'right' %}
        justify-content: flex-end;
        padding-right: {{ section.settings.desktop_padding_horizontal }}px;
      {% else %}
        justify-content: center;
      {% endif %}
      padding-top: {{ section.settings.desktop_padding_vertical }}px;
      padding-bottom: {{ section.settings.desktop_padding_vertical }}px;
    }

    .image-text-overlay_text-container-{{ section.id }} {
      text-align: {{ section.settings.desktop_text_align }};
      max-width: {{ section.settings.desktop_content_max_width }}px;
    }

    .image-text-overlay_heading-{{ section.id }} {
      color: {{ section.settings.desktop_heading_color }};
      font-size: {{ section.settings.desktop_heading_font_size }}px;
      line-height: {{ section.settings.desktop_heading_line_height }};
      margin: 0;
      font-weight: {{ section.settings.desktop_heading_font_weight }};
      letter-spacing: {{ section.settings.desktop_heading_letter_spacing }}px;
    }

    .image-text-overlay_subheading-{{ section.id }} {
      color: {{ section.settings.desktop_subheading_color }};
      font-size: {{ section.settings.desktop_subheading_font_size }}px;
      line-height: {{ section.settings.desktop_subheading_line_height }};
      margin: {{ section.settings.desktop_subheading_margin_top }}px 0 0 0;
      font-weight: {{ section.settings.desktop_subheading_font_weight }};
      letter-spacing: {{ section.settings.desktop_subheading_letter_spacing }}px;
    }

    .image-text-overlay_description-{{ section.id }} {
      color: {{ section.settings.desktop_description_color }};
      font-size: {{ section.settings.desktop_description_font_size }}px;
      line-height: {{ section.settings.desktop_description_line_height }};
      margin: {{ section.settings.desktop_description_margin_top }}px 0 0 0;
      font-weight: {{ section.settings.desktop_description_font_weight }};
    }

    .image-text-overlay_background-image-{{ section.id }}.image-text-overlay_mobile-only-{{ section.id }} {
      display: none;
    }
    .image-text-overlay_background-image-{{ section.id }}.image-text-overlay_desktop-only-{{ section.id }} {
      display: block;
    }
  }

  @media screen and (max-width: 749px) {
    {% if section.settings.image_display_mode == 'cover' %}
      .image-text-overlay_background-wrapper-{{ section.id }} {
        height: {{ section.settings.mobile_section_height }}px;
      }
    {% endif %}

    .image-text-overlay_content-wrapper-{{ section.id }} {
      {% if section.settings.mobile_content_alignment == 'left' %}
        justify-content: flex-start;
        padding-left: {{ section.settings.mobile_padding_horizontal }}px;
      {% elsif section.settings.mobile_content_alignment == 'right' %}
        justify-content: flex-end;
        padding-right: {{ section.settings.mobile_padding_horizontal }}px;
      {% else %}
        justify-content: center;
      {% endif %}
      padding-top: {{ section.settings.mobile_padding_vertical }}px;
      padding-bottom: {{ section.settings.mobile_padding_vertical }}px;
    }

    .image-text-overlay_text-container-{{ section.id }} {
      text-align: {{ section.settings.mobile_text_align }};
      max-width: {{ section.settings.mobile_content_max_width }}%;
    }

    .image-text-overlay_heading-{{ section.id }} {
      color: {{ section.settings.mobile_heading_color }};
      font-size: {{ section.settings.mobile_heading_font_size }}px;
      line-height: {{ section.settings.mobile_heading_line_height }};
      margin: 0;
      font-weight: {{ section.settings.mobile_heading_font_weight }};
      letter-spacing: {{ section.settings.mobile_heading_letter_spacing }}px;
    }

    .image-text-overlay_subheading-{{ section.id }} {
      color: {{ section.settings.mobile_subheading_color }};
      font-size: {{ section.settings.mobile_subheading_font_size }}px;
      line-height: {{ section.settings.mobile_subheading_line_height }};
      margin: {{ section.settings.mobile_subheading_margin_top }}px 0 0 0;
      font-weight: {{ section.settings.mobile_subheading_font_weight }};
      letter-spacing: {{ section.settings.mobile_subheading_letter_spacing }}px;
    }

    .image-text-overlay_description-{{ section.id }} {
      color: {{ section.settings.mobile_description_color }};
      font-size: {{ section.settings.mobile_description_font_size }}px;
      line-height: {{ section.settings.mobile_description_line_height }};
      margin: {{ section.settings.mobile_description_margin_top }}px 0 0 0;
      font-weight: {{ section.settings.mobile_description_font_weight }};
    }

    .image-text-overlay_background-image-{{ section.id }}.image-text-overlay_desktop-only-{{ section.id }} {
      display: none;
    }

    .image-text-overlay_background-image-{{ section.id }}.image-text-overlay_mobile-only-{{ section.id }} {
      display: block;
    }
  }

  .image-text-overlay_overlay-{{ section.id }} {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, {{ section.settings.overlay_opacity | divided_by: 100.0 }});
    z-index: 0;
  }
{%- endstyle -%}

<section class="image-text-overlay_section-{{ section.id }}">
  <div class="image-text-overlay_background-wrapper-{{ section.id }}">
    
    {%- if section.settings.desktop_background_image != blank -%}
      <img
        src="{{ section.settings.desktop_background_image | image_url: width: 1920 }}"
        alt="{{ section.settings.desktop_background_image.alt | escape }}"
        class="image-text-overlay_background-image-{{ section.id }} image-text-overlay_desktop-only-{{ section.id }}"
        loading="lazy"
        width="{{ section.settings.desktop_background_image.width }}"
        height="{{ section.settings.desktop_background_image.height }}"
      >
    {%- endif -%}

    {%- if section.settings.mobile_background_image != blank -%}
      <img
        src="{{ section.settings.mobile_background_image | image_url: width: 750 }}"
        alt="{{ section.settings.mobile_background_image.alt | escape }}"
        class="image-text-overlay_background-image-{{ section.id }} image-text-overlay_mobile-only-{{ section.id }}"
        loading="lazy"
        width="{{ section.settings.mobile_background_image.width }}"
        height="{{ section.settings.mobile_background_image.height }}"
      >
    {%- elsif section.settings.desktop_background_image != blank -%}
      <img
        src="{{ section.settings.desktop_background_image | image_url: width: 750 }}"
        alt="{{ section.settings.desktop_background_image.alt | escape }}"
        class="image-text-overlay_background-image-{{ section.id }} image-text-overlay_mobile-only-{{ section.id }}"
        loading="lazy"
        width="{{ section.settings.desktop_background_image.width }}"
        height="{{ section.settings.desktop_background_image.height }}"
      >
    {%- endif -%}

    {%- if section.settings.enable_overlay -%}
      <div class="image-text-overlay_overlay-{{ section.id }}"></div>
    {%- endif -%}

    <div class="image-text-overlay_content-wrapper-{{ section.id }}">
      <div class="image-text-overlay_text-container-{{ section.id }}">
        
        {%- if section.settings.heading != blank -%}
          <h2 class="image-text-overlay_heading-{{ section.id }}">
            {{ section.settings.heading }}
          </h2>
        {%- endif -%}

        {%- if section.settings.subheading != blank -%}
          <p class="image-text-overlay_subheading-{{ section.id }}">
            {{ section.settings.subheading }}
          </p>
        {%- endif -%}

        {%- if section.settings.description != blank -%}
          <p class="image-text-overlay_description-{{ section.id }}">
            {{ section.settings.description }}
          </p>
        {%- endif -%}
        
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Image Text Overlay",
  "tag": "section",
  "class": "image-text-overlay-section",
  "settings": [
  
    {
      "type": "header",
      "content": "Background Images"
    },
    {
      "type": "image_picker",
      "id": "desktop_background_image",
      "label": "Desktop Background Image"
    },
    {
      "type": "image_picker",
      "id": "mobile_background_image",
      "label": "Mobile Background Image"
    },
    {
      "type": "checkbox",
      "id": "enable_overlay",
      "label": "Enable Overlay",
      "default": false
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Overlay Opacity",
      "default": 30
    },
    {
      "type": "header",
      "content": "Text Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Main Heading",
      "default": "Hardcore aesthetics"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Cutting-edge intelligence"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description Text",
      "default": "Within reach"
    },
    {
      "type": "header",
      "content": "Desktop Settings"
    },
    {
      "type": "range",
      "id": "desktop_section_height",
      "min": 300,
      "max": 1000,
      "step": 50,
      "unit": "px",
      "label": "Section Height",
      "default": 600
    },
    {
      "type": "select",
      "id": "desktop_content_alignment",
      "label": "Content Alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "select",
      "id": "desktop_text_align",
      "label": "Text Alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "desktop_content_max_width",
      "min": 300,
      "max": 1200,
      "step": 50,
      "unit": "px",
      "label": "Content Max Width",
      "default": 600
    },
    {
      "type": "range",
      "id": "desktop_padding_horizontal",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "label": "Horizontal Padding",
      "default": 80
    },
    {
      "type": "range",
      "id": "desktop_padding_vertical",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "label": "Vertical Padding",
      "default": 60
    },
    {
      "type": "header",
      "content": "Desktop - Heading Styles"
    },
    {
      "type": "color",
      "id": "desktop_heading_color",
      "label": "Heading Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "desktop_heading_font_size",
      "min": 16,
      "max": 120,
      "step": 2,
      "unit": "px",
      "label": "Heading Font Size",
      "default": 48
    },
    {
      "type": "range",
      "id": "desktop_heading_line_height",
      "min": 1,
      "max": 2.5,
      "step": 0.1,
      "label": "Heading Line Height",
      "default": 1.2
    },
    {
      "type": "range",
      "id": "desktop_heading_font_weight",
      "min": 100,
      "max": 900,
      "step": 100,
      "label": "Heading Font Weight",
      "default": 700
    },
    {
      "type": "range",
      "id": "desktop_heading_letter_spacing",
      "min": -2,
      "max": 10,
      "step": 0.5,
      "label": "Heading Letter Spacing",
      "default": 0
    },
    {
      "type": "header",
      "content": "Desktop - Subheading Styles"
    },
    {
      "type": "color",
      "id": "desktop_subheading_color",
      "label": "Subheading Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "desktop_subheading_font_size",
      "min": 12,
      "max": 80,
      "step": 2,
      "unit": "px",
      "label": "Subheading Font Size",
      "default": 36
    },
    {
      "type": "range",
      "id": "desktop_subheading_line_height",
      "min": 1,
      "max": 2.5,
      "step": 0.1,
      "label": "Subheading Line Height",
      "default": 1.3
    },
    {
      "type": "range",
      "id": "desktop_subheading_font_weight",
      "min": 100,
      "max": 900,
      "step": 100,
      "label": "Subheading Font Weight",
      "default": 400
    },
    {
      "type": "range",
      "id": "desktop_subheading_letter_spacing",
      "min": -2,
      "max": 10,
      "step": 0.5,
      "label": "Subheading Letter Spacing",
      "default": 0
    },
    {
      "type": "range",
      "id": "desktop_subheading_margin_top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Subheading Top Margin",
      "default": 15
    },
    {
      "type": "header",
      "content": "Desktop - Description Styles"
    },
    {
      "type": "color",
      "id": "desktop_description_color",
      "label": "Description Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "desktop_description_font_size",
      "min": 12,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Description Font Size",
      "default": 24
    },
    {
      "type": "range",
      "id": "desktop_description_line_height",
      "min": 1,
      "max": 2.5,
      "step": 0.1,
      "label": "Description Line Height",
      "default": 1.5
    },
    {
      "type": "range",
      "id": "desktop_description_font_weight",
      "min": 100,
      "max": 900,
      "step": 100,
      "label": "Description Font Weight",
      "default": 300
    },
    {
      "type": "range",
      "id": "desktop_description_margin_top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Description Top Margin",
      "default": 15
    },
    {
      "type": "header",
      "content": "Mobile Settings"
    },
    {
      "type": "range",
      "id": "mobile_section_height",
      "min": 200,
      "max": 800,
      "step": 50,
      "unit": "px",
      "label": "Section Height",
      "default": 400
    },
    {
      "type": "select",
      "id": "mobile_content_alignment",
      "label": "Content Alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "mobile_text_align",
      "label": "Text Alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "mobile_content_max_width",
      "min": 50,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Content Max Width",
      "default": 90
    },
    {
      "type": "range",
      "id": "mobile_padding_horizontal",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Horizontal Padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "mobile_padding_vertical",
      "min": 0,
      "max": 150,
      "step": 10,
      "unit": "px",
      "label": "Vertical Padding",
      "default": 40
    },
    {
      "type": "header",
      "content": "Mobile - Heading Styles"
    },
    {
      "type": "color",
      "id": "mobile_heading_color",
      "label": "Heading Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "mobile_heading_font_size",
      "min": 16,
      "max": 80,
      "step": 2,
      "unit": "px",
      "label": "Heading Font Size",
      "default": 32
    },
    {
      "type": "range",
      "id": "mobile_heading_line_height",
      "min": 1,
      "max": 2.5,
      "step": 0.1,
      "label": "Heading Line Height",
      "default": 1.2
    },
    {
      "type": "range",
      "id": "mobile_heading_font_weight",
      "min": 100,
      "max": 900,
      "step": 100,
      "label": "Heading Font Weight",
      "default": 700
    },
    {
      "type": "range",
      "id": "mobile_heading_letter_spacing",
      "min": -2,
      "max": 10,
      "step": 0.5,
      "label": "Heading Letter Spacing",
      "default": 0
    },
    {
      "type": "header",
      "content": "Mobile - Subheading Styles"
    },
    {
      "type": "color",
      "id": "mobile_subheading_color",
      "label": "Subheading Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "mobile_subheading_font_size",
      "min": 12,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Subheading Font Size",
      "default": 24
    },
    {
      "type": "range",
      "id": "mobile_subheading_line_height",
      "min": 1,
      "max": 2.5,
      "step": 0.1,
      "label": "Subheading Line Height",
      "default": 1.3
    },
    {
      "type": "range",
      "id": "mobile_subheading_font_weight",
      "min": 100,
      "max": 900,
      "step": 100,
      "label": "Subheading Font Weight",
      "default": 400
    },
    {
      "type": "range",
      "id": "mobile_subheading_letter_spacing",
      "min": -2,
      "max": 10,
      "step": 0.5,
      "label": "Subheading Letter Spacing",
      "default": 0
    },
    {
      "type": "range",
      "id": "mobile_subheading_margin_top",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Subheading Top Margin",
      "default": 10
    },
    {
      "type": "header",
      "content": "Mobile - Description Styles"
    },
    {
      "type": "color",
      "id": "mobile_description_color",
      "label": "Description Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "mobile_description_font_size",
      "min": 12,
      "max": 36,
      "step": 2,
      "unit": "px",
      "label": "Description Font Size",
      "default": 18
    },
    {
      "type": "range",
      "id": "mobile_description_line_height",
      "min": 1,
      "max": 2.5,
      "step": 0.1,
      "label": "Description Line Height",
      "default": 1.5
    },
    {
      "type": "range",
      "id": "mobile_description_font_weight",
      "min": 100,
      "max": 900,
      "step": 100,
      "label": "Description Font Weight",
      "default": 300
    },
    {
      "type": "range",
      "id": "mobile_description_margin_top",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Description Top Margin",
      "default": 10
    }
  ],
  "presets": [
    {
      "name": "Image Text Overlay"
    }
  ]
}
{% endschema %}

