{% liquid
  assign desktop_image = section.settings.desktop_image
  assign mobile_image = section.settings.mobile_image
  
  if mobile_image == blank
    assign mobile_image = desktop_image
  endif
  
  assign content_position = section.settings.content_position
  assign content_alignment_mobile = section.settings.content_alignment_mobile
  assign content_alignment_mobile_horizontal = section.settings.content_alignment_mobile_horizontal
  assign text_alignment_mobile = section.settings.text_alignment_mobile
%}

<style>
  .image-banner-{{ section.id }} {
    position: relative;
    min-height: {{ section.settings.banner_height_mobile }}px;
    width: 100%;
    overflow: hidden;
    display: flex;
    align-items: {{ content_alignment_mobile }};
    justify-content: {{ content_alignment_mobile_horizontal }};
  }

  @media screen and (min-width: 750px) {
    .image-banner-{{ section.id }} {
      min-height: {{ section.settings.banner_height_desktop }}px;
      align-items: {{ content_position }};
      justify-content: {{ section.settings.content_alignment_desktop }};
    }
  }

  .image-banner-{{ section.id }}__background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
  }

  .image-banner-{{ section.id }}__background img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  .image-banner-{{ section.id }}__background--desktop {
    display: none;
  }

  .image-banner-{{ section.id }}__background--mobile {
    display: block;
  }

  @media screen and (min-width: 750px) {
    .image-banner-{{ section.id }}__background--desktop {
      display: block;
    }

    .image-banner-{{ section.id }}__background--mobile {
      display: none;
    }
  }

  .image-banner-{{ section.id }}__overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;

    z-index: 1;
  }

  .image-banner-{{ section.id }}__content {
    position: relative;
    z-index: 2;
    padding: 20px;
    max-width: {{ section.settings.content_max_width }}px;
    text-align: {{ text_alignment_mobile }};
  }

  @media screen and (min-width: 750px) {
    .image-banner-{{ section.id }}__content {
      width: 100%;
      bottom: 150px;
      text-align: {{ section.settings.text_alignment_desktop }};
    }
  }

  .image-banner-{{ section.id }}__title {
    font-size: {{ section.settings.title_size_mobile }}px;
    font-weight: {{ section.settings.title_weight }};
    line-height: 1.2;
    color: {{ section.settings.title_color }};
    margin: 0 0 12px 0;
    word-wrap: break-word;
  }

  @media screen and (min-width: 750px) {
    .image-banner-{{ section.id }}__title {
      font-size: {{ section.settings.title_size_desktop }}px;
      margin-bottom: 16px;
    }
  }

  .image-banner-{{ section.id }}__subtitle {
    font-size: {{ section.settings.subtitle_size_mobile }}px;
    font-weight: {{ section.settings.subtitle_weight }};
    line-height: 1.5;
    color: {{ section.settings.subtitle_color }};
    margin: 0 0 20px 0;
    word-wrap: break-word;
  }

  @media screen and (min-width: 750px) {
    .image-banner-{{ section.id }}__subtitle {
      font-size: {{ section.settings.subtitle_size_desktop }}px;
      margin-bottom: 24px;
    }
  }

  .image-banner-{{ section.id }}__button {
    display: inline-block;
    padding: 12px 32px;
    font-size: {{ section.settings.button_text_size_mobile }}px;
    font-weight: 500;
    text-decoration: none;
    color: {{ section.settings.button_text_color }};
    background-color: {{ section.settings.button_background_color }};
    border: none;
    border-radius: {{ section.settings.button_border_radius }}px;
    cursor: pointer;
    transition: opacity 0.3s ease, transform 0.2s ease;
  }
  @media screen and (max-width: 750px) {
    .image-banner-{{ section.id }}__button {
    display: inline-block;
    padding: 10px 15px;
    font-size: {{ section.settings.button_text_size_mobile }}px;
    font-weight: 500;
    text-decoration: none;
    color: {{ section.settings.button_text_color }};
    background-color: {{ section.settings.button_background_color }};
    border: none;
    border-radius: {{ section.settings.button_border_radius }}px;
    cursor: pointer;
    transition: opacity 0.3s ease, transform 0.2s ease;
  }
  
  .image-banner-{{ section.id }}__content {

    padding:40px;

  }
  }
  @media screen and (min-width: 750px) {
    .image-banner-{{ section.id }}__button {
      font-size: {{ section.settings.button_text_size_desktop }}px;
      padding: 14px 40px;
    }
  }

  .image-banner-{{ section.id }}__button:hover {
    opacity: 0.9;
    transform: translateY(-2px);
  }

  .image-banner-{{ section.id }}__button:active {
    transform: translateY(0);
  }
</style>

<div class="image-banner-{{ section.id }}">
  <div class="image-banner-{{ section.id }}__background image-banner-{{ section.id }}__background--desktop">
    {%- if desktop_image != blank -%}
      {{
        desktop_image
        | image_url: width: 2400
        | image_tag:
          loading: 'lazy',
          width: desktop_image.width,
          height: desktop_image.height,
          alt: desktop_image.alt | escape
      }}
    {%- else -%}
      {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' }}
    {%- endif -%}
  </div>

  <div class="image-banner-{{ section.id }}__background image-banner-{{ section.id }}__background--mobile">
    {%- if mobile_image != blank -%}
      {{
        mobile_image
        | image_url: width: 1200
        | image_tag:
          loading: 'lazy',
          width: mobile_image.width,
          height: mobile_image.height,
          alt: mobile_image.alt | escape
      }}
    {%- else -%}
      {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' }}
    {%- endif -%}
  </div>

  {%- if section.settings.show_overlay -%}
    <div class="image-banner-{{ section.id }}__overlay"></div>
  {%- endif -%}

  <div class="image-banner-{{ section.id }}__content">
    {%- if section.settings.title != blank -%}
      <h2 class="image-banner-{{ section.id }}__title">
        {{ section.settings.title }}
      </h2>
    {%- endif -%}

    {%- if section.settings.subtitle != blank -%}
      <div class="image-banner-{{ section.id }}__subtitle">
        {{ section.settings.subtitle }}
      </div>
    {%- endif -%}

    {%- if section.settings.button_label != blank -%}
      <a 
        href="{{ section.settings.button_link }}" 
        class="image-banner-{{ section.id }}__button"
        {%- if section.settings.button_link == blank -%} role="button" aria-disabled="true"{%- endif -%}
      >
        {{ section.settings.button_label }}
      </a>
    {%- endif -%}
  </div>
</div>

{% schema %}
{
  "name": "Image Banner",
  "tag": "section",
  "class": "section-image-banner",
  "settings": [
    {
      "type": "header",
      "content": "Images"
    },
    {
      "type": "image_picker",
      "id": "desktop_image",
      "label": "Desktop Image",
      "info": "Recommended size: 1920x800px"
    },
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Mobile Image",
      "info": "Recommended size: 750x1000px. If not set, desktop image will be used."
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "We Commit"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Value Reverence,\nTrue Intelligence,\nDreams Can Be Achieved."
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label",
      "default": "Learn More"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "header",
      "content": "Layout - Desktop"
    },
    {
      "type": "range",
      "id": "banner_height_desktop",
      "label": "Banner Height (Desktop)",
      "min": 300,
      "max": 1000,
      "step": 50,
      "unit": "px",
      "default": 600
    },
    {
      "type": "select",
      "id": "content_position",
      "label": "Content Vertical Position",
      "options": [
        {
          "value": "flex-start",
          "label": "Top"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "flex-end",
          "label": "Bottom"
        }
      ],
      "default": "flex-end"
    },
    {
      "type": "select",
      "id": "content_alignment_desktop",
      "label": "Content Horizontal Alignment",
      "options": [
        {
          "value": "flex-start",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "flex-end",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "text_alignment_desktop",
      "label": "Text Alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Layout - Mobile"
    },
    {
      "type": "range",
      "id": "banner_height_mobile",
      "label": "Banner Height (Mobile)",
      "min": 300,
      "max": 800,
      "step": 50,
      "unit": "px",
      "default": 500
    },
    {
      "type": "select",
      "id": "content_alignment_mobile",
      "label": "Content Vertical Position (Mobile)",
      "options": [
        {
          "value": "flex-start",
          "label": "Top"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "flex-end",
          "label": "Bottom"
        }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "content_alignment_mobile_horizontal",
      "label": "Content Horizontal Alignment (Mobile)",
      "options": [
        {
          "value": "flex-start",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "flex-end",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "text_alignment_mobile",
      "label": "Text Alignment (Mobile)",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "content_max_width",
      "label": "Content Max Width",
      "min": 400,
      "max": 1200,
      "step": 50,
      "unit": "px",
      "default": 800
    },
    {
      "type": "header",
      "content": "Title Style"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "title_size_desktop",
      "label": "Title Size (Desktop)",
      "min": 24,
      "max": 100,
      "step": 2,
      "unit": "px",
      "default": 56
    },
    {
      "type": "range",
      "id": "title_size_mobile",
      "label": "Title Size (Mobile)",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "default": 36
    },
    {
      "type": "select",
      "id": "title_weight",
      "label": "Title Font Weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi Bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "400"
    },
    {
      "type": "header",
      "content": "Subtitle Style"
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Subtitle Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "subtitle_size_desktop",
      "label": "Subtitle Size (Desktop)",
      "min": 12,
      "max": 32,
      "step": 1,
      "unit": "px",
      "default": 18
    },
    {
      "type": "range",
      "id": "subtitle_size_mobile",
      "label": "Subtitle Size (Mobile)",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "select",
      "id": "subtitle_weight",
      "label": "Subtitle Font Weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        }
      ],
      "default": "300"
    },
    {
      "type": "header",
      "content": "Button Style"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_background_color",
      "label": "Button Background Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "button_text_size_desktop",
      "label": "Button Text Size (Desktop)",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "range",
      "id": "button_text_size_mobile",
      "label": "Button Text Size (Mobile)",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "label": "Button Border Radius",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "default": 4
    },
    {
      "type": "header",
      "content": "Overlay"
    },
    {
      "type": "checkbox",
      "id": "show_overlay",
      "label": "Show Overlay",
      "default": true
    },
    {
      "type": "color",
      "id": "overlay_color",
      "label": "Overlay Color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "label": "Overlay Opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 30
    }
  ],
  "presets": [
    {
      "name": "Image Banner",
      "category": "Image"
    }
  ]
}
{% endschema %}

